/*!
 * chartjs-plugin-zoom
 * http://chartjs.org/
 * Version: 0.0.1
 *
 * Copyright 2016 Evert Timberg
 * Released under the MIT license
 * https://github.com/chartjs/chartjs-plugin-zoom/blob/master/LICENSE.md
 */
!function e(o,n,t){function r(i,l){if(!n[i]){if(!o[i]){var m="function"==typeof require&&require;if(!l&&m)return m(i,!0);if(a)return a(i,!0);var s=new Error("Cannot find module '"+i+"'");throw s.code="MODULE_NOT_FOUND",s}var u=n[i]={exports:{}};o[i][0].call(u.exports,function(e){var n=o[i][1][e];return r(n?n:e)},u,u.exports,e,o,n,t)}return n[i].exports}for(var a="function"==typeof require&&require,i=0;i<t.length;i++)r(t[i]);return r}({1:[function(e,o,n){function t(e,o){return void 0===e||"string"==typeof e&&e.indexOf(o)!==-1}function r(e,o,n){var t=e.max-e.min,r=t*(o-1),a=e.isHorizontal()?n.x:n.y,i=(e.getValueForPixel(a)-e.min)/t,l=1-i,m=r*i,s=r*l;e.options.ticks.min=e.min+m,e.options.ticks.max=e.max-s}function a(e,o,n,t){var r=d[e.options.type];r&&r(e,o,n,t)}function i(e,o,n){var r=(e.chartArea,e.options.zoom);if(r&&r.enabled){var i=e.options.zoom.mode;c.each(e.scales,function(e,l){e.isHorizontal()&&t(i,"x")?a(e,o,n,r):!e.isHorizontal()&&t(i,"y")&&a(e,o,n,r)}),e.update(0)}}function l(e,o){var n=e.options.ticks,t=e.start,r=e.end;n.reverse?(n.max=e.getValueForPixel(e.getPixelForValue(t)-o),n.min=e.getValueForPixel(e.getPixelForValue(r)-o)):(n.min=e.getValueForPixel(e.getPixelForValue(t)-o),n.max=e.getValueForPixel(e.getPixelForValue(r)-o))}function m(e,o,n){var t=v[e.options.type];t&&t(e,o,n)}function s(e,o,n){var r=e.options.pan;if(r&&r.enabled){var a=e.options.pan.mode;r.speed=e.options.pan.speed,c.each(e.scales,function(e,i){e.isHorizontal()&&t(a,"x")&&0!==o?m(e,o,r):!e.isHorizontal()&&t(a,"y")&&0!==n&&m(e,n,r)}),e.update(0)}}function u(e){var o=e.scales;for(var n in o){var t=o[n];if(!t.isHorizontal())return t}}Hammer=window.Hammer,Chart=window.Chart;var c=Chart.helpers,p={},d=p.zoomFunctions={},v=p.panFunctions={};p.zoomFunctions.category=r,p.zoomFunctions.linear=r,p.panFunctions.category=l,p.panFunctions.linear=l;var f={beforeInit:function(e){e.zoom={};var o=e.zoom.node=e.chart.ctx.canvas,n=e.options,t=n.pan.threshold;e.zoom._wheelHandler=function(o){var n=o.target.getBoundingClientRect(),t=o.clientX-n.left,r=o.clientY-n.top,a={x:t,y:r};o.deltaY<0?i(e,1.5,a):i(e,.75,a),o.preventDefault()},o.addEventListener("wheel",e.zoom._wheelHandler);var r=new Hammer.Manager(o);r.add(new Hammer.Pinch),r.add(new Hammer.Pan({threshold:t}));var a=null,l=null,m=function(o){var n=o.deltaX-a,t=o.deltaY-l;a=o.deltaX,l=o.deltaY,s(e,n,t)};r.on("panstart",function(e){a=0,l=0,m(e)}),r.on("panmove",m),r.on("panend",function(e){a=null,l=null}),e._mc=r},beforeDatasetsDraw:function(e){var o=e.chart.ctx,n=e.chartArea;if(o.save(),o.beginPath(),e.zoom._dragZoomEnd){var t=u(e),r=e.zoom._dragZoomStart,a=e.zoom._dragZoomEnd,i=r.target.getBoundingClientRect().left,l=Math.min(r.x,a.x)-i,m=Math.max(r.x,a.x)-i,s=m-l;o.fillStyle="rgba(225,225,225,0.3)",o.lineWidth=5,o.fillRect(l,t.top,s,t.bottom-t.top)}o.rect(n.left,n.top,n.right-n.left,n.bottom-n.top),o.clip()},afterDatasetsDraw:function(e){e.chart.ctx.restore()},destroy:function(e){if(e.zoom){var o=e.options,n=e.zoom.node;o.zoom&&o.zoom.drag?(n.removeEventListener("mousedown",e.zoom._mouseDownHandler),n.removeEventListener("mousemove",e.zoom._mouseMoveHandler),n.removeEventListener("mouseup",e.zoom._mouseUpHandler)):n.removeEventListener("wheel",e.zoom._wheelHandler),delete e.zoom;var t=e._mc;t&&(t.remove("pinchstart"),t.remove("pinch"),t.remove("pinchend"),t.remove("panstart"),t.remove("pan"),t.remove("panend"))}}};o.exports=f,Chart.pluginService.register(f)},{}]},{},[1]);